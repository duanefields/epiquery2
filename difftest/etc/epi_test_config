export PORT=8080
export TEMPLATE_DIRECTORY=$(pwd)/difftest/templates/
SNOWFLAKE_CREDS=$(secrets --namespace developmentglobal SNOWFLAKE_EPIQUERY_INTEGRATION_ACCOUNT)
export CONNECTION_CONFIG=$(cat << EOF
{
  "file":{"driver":"file","config":{},"name":"file"},
  "mssql":{"driver":"mssql","name":"mssql","config":{"server":"mssql","password":"YourV3ryStrong!Passw0rd","userName":"SA","options":{"port":1433,"requestTimeout":0}}},
  "mssql_o":{"driver":"mssql_o","name":"mssql_o","config":{"server":"mssql","password":"YourV3ryStrong!Passw0rd","userName":"SA","options":{"port":1433,"requestTimeout":0}}},
  "mysql":{"name":"mysql","driver":"mysql","config":{"host":"mysql","user":"root","password":"mysql_root_password"}},
  "mysql_bulk":{"name":"mysql_bulk","type":"bulk","driver":"mysql","config":{"host":"mysql","user":"root","password":"mysql_root_password"}},
  "no_server":{"driver":"mssql","name":"no_server","config":{"server":"no_server.pants.monkey.underware","password":"vagrant","userName":"vagrant","options":{"port":1433}}},
  "render":{"driver":"render","config":{},"name":"render"},
  "sfdc":{"name":"sfdc","driver":"salesforce","config":{"userName":"","password":"","server":"http://sfdc"}},
  "snowflake":{"driver":"snowflake","config":{"account":"$(jq -r .account <<< $SNOWFLAKE_CREDS)", "warehouse":"EPIQUERY_PRODUCTION", "username":"$(jq -r .username <<< $SNOWFLAKE_CREDS)", "password":"$(jq -r .password <<< $SNOWFLAKE_CREDS)"},"name":"snowflake"},
  "timesout":{"driver":"mssql","name":"timesout","config":{"server":"localhost","password":"vagrant","userName":"vagrant","options":{"port":1433,"requestTimeout":1}}}
}
EOF
)
export LOCK_DIRECTORY=~/tmp
export ENABLE_TEMPLATE_ACLS=DISABLED
export DEBUG=true
export FORKS=${FORKS:-1}
export NODE_ENV=${NODE_ENV:-development}
export EPI_SCREAMER_URL=https://services.glgresearch.com/epi-screamer/epiquery
# disable PID logging from simplog
export NOLOGPID=true
